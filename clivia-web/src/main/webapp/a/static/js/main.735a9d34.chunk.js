(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],{155:function(e,t,n){e.exports=n(313)},160:function(e,t,n){},312:function(e,t,n){},313:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(24),l=n.n(i),o=(n(160),n(106),n(66)),s=(n(139),n(55)),c=(n(107),n(39)),u=(n(120),n(79)),d=(n(173),n(19)),m=(n(175),n(71)),p=(n(177),n(43)),h=n(105),y=n(57),g=n(65),f=n(64),E=n(314),v=n(315),b=n(153),k=(n(179),n(70)),S=function(e,t){return I(e,t).then((function(e){return null===e?null:0===e.code?(e.message&&k.b.success(e.message),e.data):(k.b.warn("["+e.code+"]"+e.message),null)}))},I=function e(t,n){return fetch(""+t,{method:"POST",headers:w(),body:JSON.stringify(n)}).then((function(t){return e.loader&&e.loader.setState({loading:!1}),t.ok?t.json():(k.b.warn("["+t.status+"]"+t.statusText),null)}))},w=function(){var e={"Content-Type":"application/json"};return x(e,!0),e},x=function(e,t){t&&I.loader&&I.loader.setState({loading:!0});var n=localStorage.getItem("photon-session-id");if(!n){for(n="";n.length<64;)n+=Math.random().toString(36).substring(2);n=n.substring(0,64),localStorage.setItem("photon-session-id",n)}e["photon-session-id"]=n},q=function(e){Object(g.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(y.a)(this,n);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))).request="const post = (url, body) => fetch(url, {\n    method: 'POST',\n    headers: header(),\n    body: JSON.stringify(body)\n}).then(response => {\n    if (response.ok) return response.json();\n\n    message.warn('[' + response.status + ']' + response.statusText);\n\n    return null;\n});\n\nconst header = () => {\n    let header = {\n        'Content-Type': 'application/json'\n    };\n    psid(header, true);\n\n    return header;\n}\n\nconst psid = (header) => {\n    let psid = localStorage.getItem('photon-session-id');\n    if (!psid) {\n        psid = '';\n        while (psid.length < 64) psid += Math.random().toString(36).substring(2);\n        psid = psid.substring(0, 64);\n        localStorage.setItem('photon-session-id', psid);\n    }\n    header['photon-session-id'] = psid;\n}",e.response='{\n    "code": "\u7f16\u7801\uff0c0\u8868\u793a\u6210\u529f\uff0c\u5927\u4e8e0\u8868\u793a\u5931\u8d25\u3002",\n    "data": "\u6570\u636e\uff0ccode===0\u65f6\u8fd4\u56de\u3002",\n    "message": "\u5931\u8d25\u4fe1\u606f\u8bf4\u660e\uff0ccode>0\u65f6\u8fd4\u56de\u3002"\n}',e.render=function(){return r.a.createElement(o.b,{direction:"vertical",style:{width:"100%"}},r.a.createElement("div",null,"\u53c2\u8003\u793a\u4f8b"),r.a.createElement("pre",null,e.request),r.a.createElement("div",null,"\u8fd4\u56de\u7ed3\u679c"),r.a.createElement("pre",null,e.response))},e}return n}(r.a.Component),N=(n(202),n(116)),j=function(e){Object(g.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(y.a)(this,n);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))).responseFile='{\n    "path": "\u6587\u4ef6URI\u5730\u5740",\n    "fileName": "\u539f\u6587\u4ef6\u540d",\n    "fileSize": "\u6587\u4ef6\u5927\u5c0f",\n    "success": "true-\u6210\u529f\uff1bfalse-\u5931\u8d25"\n}',e.responseBase64='{\n    "code": 0,\n    "data": {\n        "path": "\u6587\u4ef6URI\u5730\u5740",\n        "fileName": "\u539f\u6587\u4ef6\u540d",\n        "fileSize": "\u6587\u4ef6\u5927\u5c0f",\n        "success": "true-\u6210\u529f\uff1bfalse-\u5931\u8d25"\n    }\n}',e.render=function(){return r.a.createElement(o.b,{direction:"vertical",style:{width:"100%"}},r.a.createElement(N.a,{dashed:!0},"\u6587\u4ef6\u65b9\u5f0f\u4e0a\u4f20"),r.a.createElement(u.a,{type:"info",message:"\u63a5\u53e3\u5730\u5740\uff1a"+e.props.url+"/photon/ctrl-http/upload"}),e.header(),r.a.createElement(s.a,{title:function(){return r.a.createElement("div",{className:"api-title"},"\u53c2\u6570")},columns:[{title:"\u53c2\u6570\u540d",dataIndex:"name",key:"name"},{title:"\u7c7b\u578b",dataIndex:"type",key:"type"},{title:"\u5fc5\u987b",dataIndex:"require",key:"require",render:function(e){return e?r.a.createElement(E.a,null):r.a.createElement(v.a,null)}},{title:"\u8bf4\u660e",dataIndex:"description",key:"description"}],dataSource:[{name:e.props.meta.upload,type:"file",require:!0,description:"\u4e0a\u4f20\u6587\u4ef6\u3002"}],rowKey:"name",pagination:!1}),r.a.createElement("div",null,"\u8fd4\u56de\u7ed3\u679c"),r.a.createElement("pre",null,e.responseFile),r.a.createElement(N.a,{dashed:!0},"Base64\u65b9\u5f0f\u4e0a\u4f20"),r.a.createElement(u.a,{type:"info",message:"\u63a5\u53e3\u5730\u5740\uff1a"+e.props.url+"/photon/ctrl/upload"}),e.header(),r.a.createElement(s.a,{title:function(){return r.a.createElement("div",{className:"api-title"},"\u53c2\u6570")},columns:[{title:"\u53c2\u6570\u540d",dataIndex:"name",key:"name"},{title:"\u7c7b\u578b",dataIndex:"type",key:"type"},{title:"\u5fc5\u987b",dataIndex:"require",key:"require",render:function(e){return e?r.a.createElement(E.a,null):r.a.createElement(v.a,null)}},{title:"\u8bf4\u660e",dataIndex:"description",key:"description"}],dataSource:[{name:"name",type:"string",require:!0,description:"\u56fa\u5b9a\u4e3a\uff1a"+e.props.meta.upload+"\u3002"},{name:"contentType",type:"string",require:!0,description:"\u6587\u4ef6\u683c\u5f0f\uff0c\u5982\uff1aimage/jpeg\u3002"},{name:"fileName",type:"string",require:!0,description:"\u539f\u6587\u4ef6\u540d\u3002"},{name:"base64",type:"string",require:!0,description:"BASE64\u7f16\u7801\u540e\u7684\u6587\u4ef6\u5185\u5bb9\uff0c\u4e0d\u5305\u542bContent-Type\u3002"}],rowKey:"name",pagination:!1}),r.a.createElement("div",null,"\u8fd4\u56de\u7ed3\u679c"),r.a.createElement("pre",null,e.responseBase64))},e.header=function(){return r.a.createElement(s.a,{title:function(){return r.a.createElement("div",{className:"api-title"},"\u5934\u4fe1\u606f")},columns:[{title:"\u5934\u540d\u79f0",dataIndex:"name",key:"name"},{title:"\u7c7b\u578b",dataIndex:"type",key:"type"},{title:"\u5fc5\u987b",dataIndex:"require",key:"require",render:function(e){return e?r.a.createElement(E.a,null):r.a.createElement(v.a,null)}},{title:"\u8bf4\u660e",dataIndex:"description",key:"description"}],dataSource:e.props.meta.headers,rowKey:"name",pagination:!1})},e}return n}(r.a.Component),O=(n(312),function(e){Object(g.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(y.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){S("/keyvalue/object",{key:"setting.global."}).then((function(e){null!==e&&(document.title=e["setting.global.console.title"]||"Clivia API",a.setState({logo:e["setting.global.console.logo"]}))})),S("/user/sign").then((function(e){return a.setState({user:e})})),S("/api/get").then((function(e){if(null!==e){var t,n=Object(h.a)(e);try{for(n.s();!(t=n.n()).done;){var r,i=t.value,l=Object(h.a)(i.children);try{for(l.s();!(r=l.n()).done;){var o=r.value;o.psid&&(o.headers||(o.headers=[]),o.headers.push({name:"photon-session-id",type:"string",require:!0,description:"\u7528\u6237SESSION ID\u503c\u3002"})),i.model&&("model"===o.response?o.response=i.model:"pagination"===o.response&&(o.parameters||(o.parameters=[]),o.parameters.push({name:"pageSize",type:"int",description:"\u6bcf\u9875\u663e\u793a\u8bb0\u5f55\u6570\uff0c\u9ed8\u8ba4\uff1a20\u3002"}),o.parameters.push({name:"pageNum",type:"int",description:"\u5f53\u524d\u663e\u793a\u9875\u6570\u3002"}),o.response='{\n    "count":"\u8bb0\u5f55\u603b\u6570\u3002",\n    "size":"\u6bcf\u9875\u6700\u5927\u663e\u793a\u8bb0\u5f55\u6570\u3002",\n    "number":"\u5f53\u524d\u663e\u793a\u9875\u6570\u3002",\n    "page":"\u603b\u9875\u6570\u3002",\n    "list":[\n        '+i.model.replace(/\n {4}/g,"\n            ").replace("\n}","\n        }")+"\n    ]\n}"))}}catch(m){l.e(m)}finally{l.f()}}}catch(m){n.e(m)}finally{n.f()}var s,c=[{name:"\u901a\u7528",children:[{name:"HTTP\u8bf7\u6c42",page:"request"},{name:"\u53c2\u6570\u7b7e\u540d",page:"sign"}]}],u=Object(h.a)(e);try{for(u.s();!(s=u.n()).done;){var d=s.value;c.push(d)}}catch(m){u.e(m)}finally{u.f()}a.setState({data:c},(function(){return a.show({key:"0-0-0"})}))}}))},a.render=function(){return r.a.createElement(d.a,{locale:b.a},r.a.createElement(m.a,{style:{minHeight:"100vh"}},r.a.createElement(m.a.Sider,null,r.a.createElement("div",{className:"api-logo"},a.props.logo?[r.a.createElement("img",{key:"img",src:(e=a.props.logo,""+e),alt:""}),r.a.createElement("div",{key:"div"})]:null),r.a.createElement("div",{className:"api-menu"},r.a.createElement(p.a,{onClick:a.show,mode:"inline",theme:"dark",defaultOpenKeys:["0-0"],defaultSelectedKeys:[a.state.item.uri?"0-0":"0-0-0"]},a.menu(a.state.data,"0"))),r.a.createElement("div",{className:"api-copyright"},"clivia-api \xa9 ",(new Date).getFullYear())),r.a.createElement(m.a,null,r.a.createElement(m.a.Header,{className:"api-header"}),r.a.createElement(m.a.Content,null,r.a.createElement("div",{className:"api-body"},a.body())))));var e},a.menu=function(e,t){var n=[];if(0===e.length)return n;for(var i=0;i<e.length;i++){var l=t+"-"+i,o=e[i];o.children?n.push(r.a.createElement(p.a.SubMenu,{key:l,title:r.a.createElement("span",null,o.name)},a.menu(o.children,l))):(a.map[l]=o,n.push(r.a.createElement(p.a.Item,{key:l},o.name)))}return n},a.show=function(e){a.setState({item:a.map[e.key]})},a.body=function(){if(a.state.item.page)switch(a.state.item.page){case"request":return r.a.createElement(q,null);case"upload":return r.a.createElement(j,{url:a.url,meta:a.state.item});default:return r.a.createElement("div",null)}return r.a.createElement(o.b,{direction:"vertical",style:{width:"100%"}},r.a.createElement(u.a,{type:"info",message:"\u63a5\u53e3\u5730\u5740\uff1a"+a.url+a.state.item.uri}),r.a.createElement(s.a,{title:function(){return r.a.createElement("div",{className:"api-title"},"\u5934\u4fe1\u606f")},columns:[{title:"\u5934\u540d\u79f0",dataIndex:"name",key:"name"},{title:"\u7c7b\u578b",dataIndex:"type",key:"type"},{title:"\u5fc5\u987b",dataIndex:"require",key:"require",render:function(e){return e?r.a.createElement(E.a,null):r.a.createElement(v.a,null)}},{title:"\u8bf4\u660e",dataIndex:"description",key:"description"}],dataSource:a.state.item.headers,rowKey:"name",pagination:!1,locale:{emptyText:r.a.createElement(c.a,{image:c.a.PRESENTED_IMAGE_SIMPLE,description:"\u65e0\u9700\u5934\u4fe1\u606f"})}}),r.a.createElement(s.a,{title:function(){return r.a.createElement("div",{className:"api-title"},"\u53c2\u6570")},columns:[{title:"\u53c2\u6570\u540d",dataIndex:"name",key:"name"},{title:"\u7c7b\u578b",dataIndex:"type",key:"type"},{title:"\u5fc5\u987b",dataIndex:"require",key:"require",render:function(e){return e?r.a.createElement(E.a,null):r.a.createElement(v.a,null)}},{title:"\u8bf4\u660e",dataIndex:"description",key:"description"}],dataSource:a.state.item.parameters,rowKey:"name",pagination:!1,locale:{emptyText:r.a.createElement(c.a,{image:c.a.PRESENTED_IMAGE_SIMPLE,description:"\u65e0\u9700\u53c2\u6570"})}}),r.a.createElement("div",{className:"api-response-title"},"\u8fd4\u56de"),r.a.createElement("pre",null,a.state.item.response))},a.state={logo:"",user:{},data:[],item:{}},a.map={},a.url=window.location.href,a.url=a.url.substring(0,a.url.length-window.location.pathname.length),a}return n}(r.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[155,1,2]]]);
//# sourceMappingURL=main.735a9d34.chunk.js.map