(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],{167:function(e,t,n){},213:function(e,t,n){},327:function(e,t,n){},329:function(e,t,n){"use strict";n.r(t);var s=n(6),a=n(0),i=n.n(a),r=n(33),c=n.n(r),o=(n(167),n(87),n(59)),l=(n(145),n(66)),d=(n(116),n(43)),j=(n(125),n(77)),u=(n(180),n(19)),p=(n(182),n(79)),m=(n(184),n(45)),h=n(113),b=n(53),g=n(58),x=n(56),O=n(332),f=n(333),v=n(160),y=(n(186),n(78)),S=function(e,t){return N(e,t).then((function(e){return null===e?null:0===e.code?(e.message&&y.b.success(e.message),e.data):(y.b.warn("["+e.code+"]"+e.message),null)}))},N=function e(t,n){return fetch(""+t,{method:"POST",headers:I(),body:JSON.stringify(n)}).then((function(t){return e.loader&&e.loader.setState({loading:!1}),t.ok?t.json():(y.b.warn("["+t.status+"]"+t.statusText),null)}))},I=function(){var e={"Content-Type":"application/json"};return k(e,!0),e},k=function(e,t){t&&N.loader&&N.loader.setState({loading:!0});var n=localStorage.getItem("photon-session-id");if(!n){for(n="";n.length<64;)n+=Math.random().toString(36).substring(2);n=n.substring(0,64),localStorage.setItem("photon-session-id",n)}e["photon-session-id"]=n},w=function(e){Object(g.a)(n,e);var t=Object(x.a)(n);function n(){var e;Object(b.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).request="const post = (url, body) => fetch(url, {\n    method: 'POST',\n    headers: header(),\n    body: JSON.stringify(body)\n}).then(response => {\n    if (response.ok) return response.json();\n\n    message.warn('[' + response.status + ']' + response.statusText);\n\n    return null;\n});\n\nconst header = () => {\n    let header = {\n        'Content-Type': 'application/json'\n    };\n    psid(header, true);\n\n    return header;\n}\n\nconst psid = (header) => {\n    let psid = localStorage.getItem('photon-session-id');\n    if (!psid) {\n        psid = '';\n        while (psid.length < 64) psid += Math.random().toString(36).substring(2);\n        psid = psid.substring(0, 64);\n        localStorage.setItem('photon-session-id', psid);\n    }\n    header['photon-session-id'] = psid;\n}",e.response='{\n    "code": "\u7f16\u7801\uff0c0\u8868\u793a\u6210\u529f\uff0c\u5927\u4e8e0\u8868\u793a\u5931\u8d25\u3002",\n    "data": "\u6570\u636e\uff0ccode===0\u65f6\u8fd4\u56de\u3002",\n    "message": "\u5931\u8d25\u4fe1\u606f\u8bf4\u660e\uff0ccode>0\u65f6\u8fd4\u56de\u3002"\n}',e.render=function(){return Object(s.jsxs)(o.b,{direction:"vertical",style:{width:"100%"},children:[Object(s.jsx)("div",{children:"\u53c2\u8003\u793a\u4f8b"}),Object(s.jsx)("pre",{children:e.request}),Object(s.jsx)("div",{children:"\u8fd4\u56de\u7ed3\u679c"}),Object(s.jsx)("pre",{children:e.response})]})},e}return n}(i.a.Component),q=(n(207),n(68)),C=(n(330),n(67)),T=n(146),E=n.n(T),M=(n(213),function(e){Object(g.a)(n,e);var t=Object(x.a)(n);function n(e){var a;Object(b.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){a.change()},a.render=function(){return Object(s.jsxs)(o.b,{direction:"vertical",children:[Object(s.jsxs)(C.a,{direction:"vertical",current:6,children:[Object(s.jsx)(C.a.Step,{title:"\u6dfb\u52a0\u7b7e\u540d\u65f6\u95f4\u6233\u53c2\u6570",description:"\u83b7\u53d6\u5f53\u524d\u65f6\u95f4\u6233\uff0c\u7cbe\u786e\u5230\u6beb\u79d2\uff0c\u53c2\u6570\u540d\u4e3a\uff1asign-time\u3002",icon:1}),Object(s.jsx)(C.a.Step,{title:"\u53c2\u6570\u540d\u6392\u5e8f",description:"\u5c06\u6240\u6709\u53c2\u6570\u6839\u636e\u53c2\u6570\u540dASCII\u7801\u5347\u5e8f\u6392\u5217\u3002",icon:2}),Object(s.jsx)(C.a.Step,{title:"\u62fc\u63a5\u53c2\u6570",description:"\u7528\u7b49\u53f7'='\u62fc\u63a5\u53c2\u6570\u540d\u4e0e\u503c\uff0c\u5e76\u7528'&'\u7b26\u53f7\u8fde\u63a5\uff0c\u5982\uff1aa=1&b=2&c=3&sign-time=1234567890123",icon:3}),Object(s.jsx)(C.a.Step,{title:"\u6dfb\u52a0\u5bc6\u94a5",description:"\u6dfb\u52a0'&secret={secret value}'",icon:4}),Object(s.jsx)(C.a.Step,{title:"\u8ba1\u7b97MD5\u503c",description:"\u8ba1\u7b97\u5b57\u7b26\u4e32\u7684MD5\u503c\uff0c\u8f6c\u5316\u4e3a\u5c0f\u5199\u5b57\u6bcd\uff0c\u5373\u4e3a\u7b7e\u540d\u503c\uff0c\u7b7e\u540d\u53c2\u6570\u540d\u4e3asign\u3002",icon:5})]}),Object(s.jsx)("div",{children:"\u793a\u4f8b"}),Object(s.jsxs)("div",{className:"sign-form",children:[Object(s.jsxs)("div",{className:"sign-form-line",children:[Object(s.jsx)("div",{className:"sign-form-label",children:"\u53c2\u6570\u540d"}),Object(s.jsx)("div",{className:"sign-form-value",children:"\u53c2\u6570\u503c"})]}),Object(s.jsxs)("div",{className:"sign-form-line",children:[Object(s.jsx)("div",{className:"sign-form-label",children:Object(s.jsx)(q.a,{id:"name-1",onChange:a.change,defaultValue:"a"})}),Object(s.jsx)("div",{className:"sign-form-value",children:Object(s.jsx)(q.a,{id:"value-1",onChange:a.change,defaultValue:"1"})})]}),Object(s.jsxs)("div",{className:"sign-form-line",children:[Object(s.jsx)("div",{className:"sign-form-label",children:Object(s.jsx)(q.a,{id:"name-2",onChange:a.change,defaultValue:"b"})}),Object(s.jsx)("div",{className:"sign-form-value",children:Object(s.jsx)(q.a,{id:"value-2",onChange:a.change,defaultValue:"2"})})]}),Object(s.jsxs)("div",{className:"sign-form-line",children:[Object(s.jsx)("div",{className:"sign-form-label",children:Object(s.jsx)(q.a,{id:"name-3",onChange:a.change,defaultValue:"c"})}),Object(s.jsx)("div",{className:"sign-form-value",children:Object(s.jsx)(q.a,{id:"value-3",onChange:a.change,defaultValue:"3"})})]}),Object(s.jsxs)("div",{className:"sign-form-line",children:[Object(s.jsx)("div",{className:"sign-form-label",children:"sign-time"}),Object(s.jsx)("div",{className:"sign-form-value",children:a.state.time})]}),Object(s.jsxs)("div",{className:"sign-form-line",children:[Object(s.jsx)("div",{className:"sign-form-label",children:"secret"}),Object(s.jsx)("div",{className:"sign-form-value",children:a.state.secret})]}),Object(s.jsxs)("div",{className:"sign-form-line",children:[Object(s.jsx)("div",{className:"sign-form-label",children:"\u7b7e\u540d\u660e\u6587"}),Object(s.jsx)("div",{className:"sign-form-value sign-form-plain",children:a.state.plain})]}),Object(s.jsxs)("div",{className:"sign-form-line",children:[Object(s.jsx)("div",{className:"sign-form-label",children:"sign"}),Object(s.jsx)("div",{className:"sign-form-value",children:a.state.sign})]})]})]})},a.change=function(){for(var e=[],t=1;t<=3;t++)e.push(document.querySelector("#name-"+t).value+"="+document.querySelector("#value-"+t).value);var n=(new Date).getTime();e.push("sign-time="+n),e.sort(),e.push("secret="+a.state.secret);var s=e.join("&");a.setState({time:n,plain:s,sign:E()(s)})};for(var i="";i.length<32;)i+=Math.random().toString(36).substring(2);return i=i.substring(0,32),a.state={time:"",secret:i,plain:"",sign:""},a}return n}(i.a.Component)),D=(n(226),n(112)),P=function(e){Object(g.a)(n,e);var t=Object(x.a)(n);function n(){var e;Object(b.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).responseFile='{\n    "path": "\u6587\u4ef6URI\u5730\u5740",\n    "fileName": "\u539f\u6587\u4ef6\u540d",\n    "fileSize": "\u6587\u4ef6\u5927\u5c0f",\n    "success": "true-\u6210\u529f\uff1bfalse-\u5931\u8d25"\n}',e.responseBase64='{\n    "code": 0,\n    "data": {\n        "path": "\u6587\u4ef6URI\u5730\u5740",\n        "fileName": "\u539f\u6587\u4ef6\u540d",\n        "fileSize": "\u6587\u4ef6\u5927\u5c0f",\n        "success": "true-\u6210\u529f\uff1bfalse-\u5931\u8d25"\n    }\n}',e.render=function(){return Object(s.jsxs)(o.b,{direction:"vertical",style:{width:"100%"},children:[Object(s.jsx)(D.a,{dashed:!0,children:"\u6587\u4ef6\u65b9\u5f0f\u4e0a\u4f20"}),Object(s.jsx)(j.a,{type:"info",message:"\u63a5\u53e3\u5730\u5740\uff1a"+e.props.url+"/photon/ctrl-http/upload"}),e.header(),Object(s.jsx)(l.a,{title:function(){return Object(s.jsx)("div",{className:"api-title",children:"\u53c2\u6570"})},columns:[{title:"\u53c2\u6570\u540d",dataIndex:"name",key:"name"},{title:"\u7c7b\u578b",dataIndex:"type",key:"type"},{title:"\u5fc5\u987b",dataIndex:"require",key:"require",render:function(e){return e?Object(s.jsx)(O.a,{}):Object(s.jsx)(f.a,{})}},{title:"\u8bf4\u660e",dataIndex:"description",key:"description"}],dataSource:[{name:e.props.meta.upload,type:"file",require:!0,description:"\u4e0a\u4f20\u6587\u4ef6\u3002"}],rowKey:"name",pagination:!1}),Object(s.jsx)("div",{children:"\u8fd4\u56de\u7ed3\u679c"}),Object(s.jsx)("pre",{children:e.responseFile}),Object(s.jsx)(D.a,{dashed:!0,children:"Base64\u65b9\u5f0f\u4e0a\u4f20"}),Object(s.jsx)(j.a,{type:"info",message:"\u63a5\u53e3\u5730\u5740\uff1a"+e.props.url+"/photon/ctrl/upload"}),e.header(),Object(s.jsx)(l.a,{title:function(){return Object(s.jsx)("div",{className:"api-title",children:"\u53c2\u6570"})},columns:[{title:"\u53c2\u6570\u540d",dataIndex:"name",key:"name"},{title:"\u7c7b\u578b",dataIndex:"type",key:"type"},{title:"\u5fc5\u987b",dataIndex:"require",key:"require",render:function(e){return e?Object(s.jsx)(O.a,{}):Object(s.jsx)(f.a,{})}},{title:"\u8bf4\u660e",dataIndex:"description",key:"description"}],dataSource:[{name:"name",type:"string",require:!0,description:"\u56fa\u5b9a\u4e3a\uff1a"+e.props.meta.upload+"\u3002"},{name:"contentType",type:"string",require:!0,description:"\u6587\u4ef6\u683c\u5f0f\uff0c\u5982\uff1aimage/jpeg\u3002"},{name:"fileName",type:"string",require:!0,description:"\u539f\u6587\u4ef6\u540d\u3002"},{name:"base64",type:"string",require:!0,description:"BASE64\u7f16\u7801\u540e\u7684\u6587\u4ef6\u5185\u5bb9\uff0c\u4e0d\u5305\u542bContent-Type\u3002"}],rowKey:"name",pagination:!1}),Object(s.jsx)("div",{children:"\u8fd4\u56de\u7ed3\u679c"}),Object(s.jsx)("pre",{children:e.responseBase64}),Object(s.jsx)(D.a,{dashed:!0,children:"cURL\u65b9\u5f0f\u4e0a\u4f20"}),Object(s.jsx)(j.a,{type:"info",message:"\u63a5\u53e3\u5730\u5740\uff1a"+e.props.url+"/photon/ctrl-http/upload"}),Object(s.jsx)("div",{children:"\u53d1\u9001"}),Object(s.jsxs)("pre",{children:["curl -H 'photon-session-id: ",localStorage.getItem("photon-session-id"),"' -F '",e.props.meta.upload,"=@/path/to/file' ",e.props.url,"/photon/ctrl-http/upload"]}),Object(s.jsx)("div",{children:"\u8fd4\u56de\u7ed3\u679c"}),Object(s.jsx)("pre",{children:e.responseFile})]})},e.header=function(){return Object(s.jsx)(l.a,{title:function(){return Object(s.jsx)("div",{className:"api-title",children:"\u5934\u4fe1\u606f"})},columns:[{title:"\u5934\u540d\u79f0",dataIndex:"name",key:"name"},{title:"\u7c7b\u578b",dataIndex:"type",key:"type"},{title:"\u5fc5\u987b",dataIndex:"require",key:"require",render:function(e){return e?Object(s.jsx)(O.a,{}):Object(s.jsx)(f.a,{})}},{title:"\u8bf4\u660e",dataIndex:"description",key:"description"}],dataSource:e.props.meta.headers,rowKey:"name",pagination:!1})},e}return n}(i.a.Component),A=(n(327),function(e){Object(g.a)(n,e);var t=Object(x.a)(n);function n(e){var a;return Object(b.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){S("/keyvalue/object",{key:"setting.global."}).then((function(e){null!==e&&(document.title=e["setting.global.console.title"]||"Clivia API",a.setState({logo:e["setting.global.console.logo"]}))})),S("/user/sign").then((function(e){return a.setState({user:e})})),S("/api/get").then((function(e){if(null!==e){var t,n=Object(h.a)(e);try{for(n.s();!(t=n.n()).done;){var s,i=t.value,r=Object(h.a)(i.services);try{for(r.s();!(s=r.n()).done;){var c=s.value;c.psid&&(c.headers||(c.headers=[]),c.headers.push({name:"photon-session-id",type:"string",require:!0,description:"\u7528\u6237SESSION ID\u503c\uff0c\u5982\uff1a"+localStorage.getItem("photon-session-id")+"\u3002"})),c.sign&&(c.parameters||(c.parameters=[]),c.parameters.push({name:"sign-time",type:"long",description:"\u7b7e\u540d\u65f6\u95f4\u6233\uff0c\u7cbe\u786e\u5230\u6beb\u79d2\u3002"}),c.parameters.push({name:"sign",type:"string",description:"\u53c2\u6570\u7b7e\u540d\uff0c\u89c4\u5219\u53c2\u8003\u3010\u901a\u7528->\u53c2\u6570\u7b7e\u540d\u3011\u9875\u3002"})),i.model&&("model"===c.response?c.response=i.model:1===c.response.length&&"model"===c.response[0]?c.response="["+i.model+"]":"pagination"===c.response&&(c.parameters||(c.parameters=[]),c.parameters.push({name:"pageSize",type:"int",description:"\u6bcf\u9875\u663e\u793a\u8bb0\u5f55\u6570\uff0c\u9ed8\u8ba4\uff1a20\u3002"}),c.parameters.push({name:"pageNum",type:"int",description:"\u5f53\u524d\u663e\u793a\u9875\u6570\u3002"}),c.response='{\n    "count":"\u8bb0\u5f55\u603b\u6570\u3002",\n    "size":"\u6bcf\u9875\u6700\u5927\u663e\u793a\u8bb0\u5f55\u6570\u3002",\n    "number":"\u5f53\u524d\u663e\u793a\u9875\u6570\u3002",\n    "page":"\u603b\u9875\u6570\u3002",\n    "list":[\n        '+i.model.replace(/\n {4}/g,"\n            ").replace("\n}","\n        }")+"\n    ]\n}"))}}catch(u){r.e(u)}finally{r.f()}}}catch(u){n.e(u)}finally{n.f()}var o,l=[{name:"\u901a\u7528",services:[{name:"HTTP\u8bf7\u6c42",page:"request"},{name:"\u53c2\u6570\u7b7e\u540d",page:"sign"}]}],d=Object(h.a)(e);try{for(d.s();!(o=d.n()).done;){var j=o.value;l.push(j)}}catch(u){d.e(u)}finally{d.f()}a.setState({data:l},(function(){return a.show({key:"0-0-0"})}))}}))},a.render=function(){return Object(s.jsx)(u.a,{locale:v.a,children:Object(s.jsxs)(p.a,{style:{minHeight:"100vh"},children:[Object(s.jsxs)(p.a.Sider,{children:[Object(s.jsx)("div",{className:"api-logo",children:a.props.logo?[Object(s.jsx)("img",{src:(e=a.props.logo,""+e),alt:""},"img"),Object(s.jsx)("div",{},"div")]:null}),Object(s.jsx)("div",{className:"api-menu",children:Object(s.jsx)(m.a,{onClick:a.show,mode:"inline",theme:"dark",defaultOpenKeys:["0-0"],defaultSelectedKeys:[a.state.item.uri?"0-0":"0-0-0"],children:a.menu(a.state.data,"0")})}),Object(s.jsxs)("div",{className:"api-copyright",children:["clivia-api \xa9 ",(new Date).getFullYear()]})]}),Object(s.jsxs)(p.a,{children:[Object(s.jsx)(p.a.Header,{className:"api-header"}),Object(s.jsx)(p.a.Content,{children:Object(s.jsx)("div",{className:"api-body",children:a.body()})})]})]})});var e},a.menu=function(e,t){var n=[];if(0===e.length)return n;for(var i=0;i<e.length;i++){var r=t+"-"+i,c=e[i];c.services?n.push(Object(s.jsx)(m.a.SubMenu,{title:Object(s.jsx)("span",{children:c.name}),children:a.menu(c.services,r)},r)):(a.map[r]=c,n.push(Object(s.jsx)(m.a.Item,{children:c.name},r)))}return n},a.show=function(e){a.setState({item:a.map[e.key]})},a.body=function(){if(a.state.item.page)switch(a.state.item.page){case"request":return Object(s.jsx)(w,{});case"sign":return Object(s.jsx)(M,{});case"upload":return Object(s.jsx)(P,{url:a.url,meta:a.state.item});default:return Object(s.jsx)("div",{})}return Object(s.jsxs)(o.b,{direction:"vertical",style:{width:"100%"},children:[Object(s.jsx)(j.a,{type:"info",message:"\u63a5\u53e3\u5730\u5740\uff1a"+a.url+a.state.item.uri}),Object(s.jsx)(l.a,{title:function(){return Object(s.jsx)("div",{className:"api-title",children:"\u5934\u4fe1\u606f"})},columns:[{title:"\u5934\u540d\u79f0",dataIndex:"name",key:"name"},{title:"\u7c7b\u578b",dataIndex:"type",key:"type"},{title:"\u5fc5\u987b",dataIndex:"require",key:"require",render:function(e){return e?Object(s.jsx)(O.a,{}):Object(s.jsx)(f.a,{})}},{title:"\u8bf4\u660e",dataIndex:"description",key:"description"}],dataSource:a.state.item.headers,rowKey:"name",pagination:!1,locale:{emptyText:Object(s.jsx)(d.a,{image:d.a.PRESENTED_IMAGE_SIMPLE,description:"\u65e0\u9700\u5934\u4fe1\u606f"})}}),Object(s.jsx)(l.a,{title:function(){return Object(s.jsx)("div",{className:"api-title",children:"\u53c2\u6570"})},columns:[{title:"\u53c2\u6570\u540d",dataIndex:"name",key:"name"},{title:"\u7c7b\u578b",dataIndex:"type",key:"type"},{title:"\u5fc5\u987b",dataIndex:"require",key:"require",render:function(e){return e?Object(s.jsx)(O.a,{}):Object(s.jsx)(f.a,{})}},{title:"\u8bf4\u660e",dataIndex:"description",key:"description"}],dataSource:a.state.item.parameters,rowKey:"name",pagination:!1,locale:{emptyText:Object(s.jsx)(d.a,{image:d.a.PRESENTED_IMAGE_SIMPLE,description:"\u65e0\u9700\u53c2\u6570"})}}),Object(s.jsx)("div",{className:"api-response-title",children:"\u8fd4\u56de"}),Object(s.jsx)("pre",{children:a.state.item.response})]})},a.state={logo:"",user:{},data:[],item:{}},a.map={},a.url=window.location.href,a.url=a.url.substring(0,a.url.length-window.location.pathname.length),a}return n}(i.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(s.jsx)(i.a.StrictMode,{children:Object(s.jsx)(A,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[329,1,2]]]);
//# sourceMappingURL=main.6fa224c0.chunk.js.map