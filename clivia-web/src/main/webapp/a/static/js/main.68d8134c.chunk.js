(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],{175:function(e,t,n){},222:function(e,t,n){},337:function(e,t,n){},338:function(e,t,n){"use strict";n.r(t);var a=n(6),i=n(0),s=n.n(i),r=n(28),c=n.n(r),l=(n(175),n(91),n(61)),o=(n(153),n(68)),d=(n(121),n(43)),u=(n(133),n(90)),j=(n(188),n(18)),p=(n(190),n(83)),m=(n(192),n(46)),h=n(118),b=n(55),g=n(60),x=n(59),O=n(340),f=n(341),v=n(168),y=(n(194),n(82)),S=function(e,t){return N(e,t).then((function(e){return null===e?null:0===e.code?(e.message&&y.b.success(e.message),e.data):(y.b.warn("["+e.code+"]"+e.message),null)}))},N=function e(t,n){return fetch(""+t,{method:"POST",headers:I(),body:JSON.stringify(n)}).then((function(t){return e.loader&&e.loader.setState({loading:!1}),t.ok?t.json():(y.b.warn("["+t.status+"]"+t.statusText),null)}))},I=function(){var e={"Content-Type":"application/json"};return k(e,!0),e},k=function(e,t){t&&N.loader&&N.loader.setState({loading:!0});var n=localStorage.getItem("photon-session-id");if(!n){for(n="";n.length<64;)n+=Math.random().toString(36).substring(2);n=n.substring(0,64),localStorage.setItem("photon-session-id",n)}e["photon-session-id"]=n},w=function(e){Object(g.a)(n,e);var t=Object(x.a)(n);function n(){var e;Object(b.a)(this,n);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).request="const post = (url, body) => fetch(url, {\n    method: 'POST',\n    headers: header(),\n    body: JSON.stringify(body)\n}).then(response => {\n    if (response.ok) return response.json();\n\n    message.warn('[' + response.status + ']' + response.statusText);\n\n    return null;\n});\n\nconst header = () => {\n    let header = {\n        'Content-Type': 'application/json'\n    };\n    psid(header, true);\n\n    return header;\n}\n\nconst psid = (header) => {\n    let psid = localStorage.getItem('photon-session-id');\n    if (!psid) {\n        psid = '';\n        while (psid.length < 64) psid += Math.random().toString(36).substring(2);\n        psid = psid.substring(0, 64);\n        localStorage.setItem('photon-session-id', psid);\n    }\n    header['photon-session-id'] = psid;\n}",e.response='{\n    "code": "\u7f16\u7801\uff0c0\u8868\u793a\u6210\u529f\uff0c\u5927\u4e8e0\u8868\u793a\u5931\u8d25\u3002",\n    "data": "\u6570\u636e\uff0ccode===0\u65f6\u8fd4\u56de\u3002",\n    "message": "\u5931\u8d25\u4fe1\u606f\u8bf4\u660e\uff0ccode>0\u65f6\u8fd4\u56de\u3002"\n}',e.render=function(){return Object(a.jsxs)(l.b,{direction:"vertical",style:{width:"100%"},children:[Object(a.jsx)("div",{children:"\u53c2\u8003\u793a\u4f8b"}),Object(a.jsx)("pre",{children:e.request}),Object(a.jsx)("div",{children:"\u8fd4\u56de\u7ed3\u679c"}),Object(a.jsx)("pre",{children:e.response})]})},e}return n}(s.a.Component),q=(n(216),n(70)),C=(n(339),n(69)),T=n(154),E=n.n(T),M=(n(222),function(e){Object(g.a)(n,e);var t=Object(x.a)(n);function n(e){var i;Object(b.a)(this,n),(i=t.call(this,e)).componentDidMount=function(){i.change()},i.render=function(){return Object(a.jsxs)(l.b,{direction:"vertical",children:[Object(a.jsxs)(C.a,{direction:"vertical",current:6,children:[Object(a.jsx)(C.a.Step,{title:"\u6dfb\u52a0\u7b7e\u540d\u65f6\u95f4\u6233\u53c2\u6570",description:"\u83b7\u53d6\u5f53\u524d\u65f6\u95f4\u6233\uff0c\u7cbe\u786e\u5230\u6beb\u79d2\uff0c\u53c2\u6570\u540d\u4e3a\uff1asign-time\u3002",icon:1}),Object(a.jsx)(C.a.Step,{title:"\u53c2\u6570\u540d\u6392\u5e8f",description:"\u5c06\u6240\u6709\u53c2\u6570\u6839\u636e\u53c2\u6570\u540dASCII\u7801\u5347\u5e8f\u6392\u5217\u3002",icon:2}),Object(a.jsx)(C.a.Step,{title:"\u62fc\u63a5\u53c2\u6570",description:"\u7528\u7b49\u53f7'='\u62fc\u63a5\u53c2\u6570\u540d\u4e0e\u503c\uff0c\u5e76\u7528'&'\u7b26\u53f7\u8fde\u63a5\uff0c\u5982\uff1aa=1&b=2&c=3&sign-time=1234567890123",icon:3}),Object(a.jsx)(C.a.Step,{title:"\u6dfb\u52a0\u5bc6\u94a5",description:"\u6dfb\u52a0'&secret={secret value}'",icon:4}),Object(a.jsx)(C.a.Step,{title:"\u8ba1\u7b97MD5\u503c",description:"\u8ba1\u7b97\u5b57\u7b26\u4e32\u7684MD5\u503c\uff0c\u8f6c\u5316\u4e3a\u5c0f\u5199\u5b57\u6bcd\uff0c\u5373\u4e3a\u7b7e\u540d\u503c\uff0c\u7b7e\u540d\u53c2\u6570\u540d\u4e3asign\u3002",icon:5})]}),Object(a.jsx)("div",{children:"\u793a\u4f8b"}),Object(a.jsxs)("div",{className:"sign-form",children:[Object(a.jsxs)("div",{className:"sign-form-line",children:[Object(a.jsx)("div",{className:"sign-form-label",children:"\u53c2\u6570\u540d"}),Object(a.jsx)("div",{className:"sign-form-value",children:"\u53c2\u6570\u503c"})]}),Object(a.jsxs)("div",{className:"sign-form-line",children:[Object(a.jsx)("div",{className:"sign-form-label",children:Object(a.jsx)(q.a,{id:"name-1",onChange:i.change,defaultValue:"a"})}),Object(a.jsx)("div",{className:"sign-form-value",children:Object(a.jsx)(q.a,{id:"value-1",onChange:i.change,defaultValue:"1"})})]}),Object(a.jsxs)("div",{className:"sign-form-line",children:[Object(a.jsx)("div",{className:"sign-form-label",children:Object(a.jsx)(q.a,{id:"name-2",onChange:i.change,defaultValue:"b"})}),Object(a.jsx)("div",{className:"sign-form-value",children:Object(a.jsx)(q.a,{id:"value-2",onChange:i.change,defaultValue:"2"})})]}),Object(a.jsxs)("div",{className:"sign-form-line",children:[Object(a.jsx)("div",{className:"sign-form-label",children:Object(a.jsx)(q.a,{id:"name-3",onChange:i.change,defaultValue:"c"})}),Object(a.jsx)("div",{className:"sign-form-value",children:Object(a.jsx)(q.a,{id:"value-3",onChange:i.change,defaultValue:"3"})})]}),Object(a.jsxs)("div",{className:"sign-form-line",children:[Object(a.jsx)("div",{className:"sign-form-label",children:"sign-time"}),Object(a.jsx)("div",{className:"sign-form-value",children:i.state.time})]}),Object(a.jsxs)("div",{className:"sign-form-line",children:[Object(a.jsx)("div",{className:"sign-form-label",children:"secret"}),Object(a.jsx)("div",{className:"sign-form-value",children:i.state.secret})]}),Object(a.jsxs)("div",{className:"sign-form-line",children:[Object(a.jsx)("div",{className:"sign-form-label",children:"\u7b7e\u540d\u660e\u6587"}),Object(a.jsx)("div",{className:"sign-form-value sign-form-plain",children:i.state.plain})]}),Object(a.jsxs)("div",{className:"sign-form-line",children:[Object(a.jsx)("div",{className:"sign-form-label",children:"sign"}),Object(a.jsx)("div",{className:"sign-form-value",children:i.state.sign})]})]})]})},i.change=function(){for(var e=[],t=1;t<=3;t++)e.push(document.querySelector("#name-"+t).value+"="+document.querySelector("#value-"+t).value);var n=(new Date).getTime();e.push("sign-time="+n),e.sort(),e.push("secret="+i.state.secret);var a=e.join("&");i.setState({time:n,plain:a,sign:E()(a)})};for(var s="";s.length<32;)s+=Math.random().toString(36).substring(2);return s=s.substring(0,32),i.state={time:"",secret:s,plain:"",sign:""},i}return n}(s.a.Component)),D=(n(236),n(130)),P=function(e){Object(g.a)(n,e);var t=Object(x.a)(n);function n(){var e;Object(b.a)(this,n);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).responseFile='{\n    "path": "\u6587\u4ef6URI\u5730\u5740",\n    "fileName": "\u539f\u6587\u4ef6\u540d",\n    "fileSize": "\u6587\u4ef6\u5927\u5c0f",\n    "success": "true-\u6210\u529f\uff1bfalse-\u5931\u8d25"\n}',e.responseBase64='{\n    "code": 0,\n    "data": {\n        "path": "\u6587\u4ef6URI\u5730\u5740",\n        "fileName": "\u539f\u6587\u4ef6\u540d",\n        "fileSize": "\u6587\u4ef6\u5927\u5c0f",\n        "success": "true-\u6210\u529f\uff1bfalse-\u5931\u8d25"\n    }\n}',e.render=function(){return Object(a.jsxs)(l.b,{direction:"vertical",style:{width:"100%"},children:[Object(a.jsx)(D.a,{dashed:!0,children:"\u6587\u4ef6\u65b9\u5f0f\u4e0a\u4f20"}),Object(a.jsx)(u.a,{type:"info",message:"\u63a5\u53e3\u5730\u5740\uff1a"+e.props.url+"/photon/ctrl-http/upload"}),e.header(),Object(a.jsx)(o.a,{title:function(){return Object(a.jsx)("div",{className:"api-title",children:"\u53c2\u6570"})},columns:[{title:"\u53c2\u6570\u540d",dataIndex:"name",key:"name"},{title:"\u7c7b\u578b",dataIndex:"type",key:"type"},{title:"\u5fc5\u987b",dataIndex:"require",key:"require",render:function(e){return e?Object(a.jsx)(O.a,{}):Object(a.jsx)(f.a,{})}},{title:"\u8bf4\u660e",dataIndex:"description",key:"description"}],dataSource:[{name:e.props.meta.upload,type:"file",require:!0,description:"\u4e0a\u4f20\u6587\u4ef6\u3002"}],rowKey:"name",pagination:!1}),Object(a.jsx)("div",{children:"\u8fd4\u56de\u7ed3\u679c"}),Object(a.jsx)("pre",{children:e.responseFile}),Object(a.jsx)(D.a,{dashed:!0,children:"Base64\u65b9\u5f0f\u4e0a\u4f20"}),Object(a.jsx)(u.a,{type:"info",message:"\u63a5\u53e3\u5730\u5740\uff1a"+e.props.url+"/photon/ctrl/upload"}),e.header(),Object(a.jsx)(o.a,{title:function(){return Object(a.jsx)("div",{className:"api-title",children:"\u53c2\u6570"})},columns:[{title:"\u53c2\u6570\u540d",dataIndex:"name",key:"name"},{title:"\u7c7b\u578b",dataIndex:"type",key:"type"},{title:"\u5fc5\u987b",dataIndex:"require",key:"require",render:function(e){return e?Object(a.jsx)(O.a,{}):Object(a.jsx)(f.a,{})}},{title:"\u8bf4\u660e",dataIndex:"description",key:"description"}],dataSource:[{name:"name",type:"string",require:!0,description:"\u56fa\u5b9a\u4e3a\uff1a"+e.props.meta.upload+"\u3002"},{name:"contentType",type:"string",require:!0,description:"\u6587\u4ef6\u683c\u5f0f\uff0c\u5982\uff1aimage/jpeg\u3002"},{name:"fileName",type:"string",require:!0,description:"\u539f\u6587\u4ef6\u540d\u3002"},{name:"base64",type:"string",require:!0,description:"BASE64\u7f16\u7801\u540e\u7684\u6587\u4ef6\u5185\u5bb9\uff0c\u4e0d\u5305\u542bContent-Type\u3002"}],rowKey:"name",pagination:!1}),Object(a.jsx)("div",{children:"\u8fd4\u56de\u7ed3\u679c"}),Object(a.jsx)("pre",{children:e.responseBase64})]})},e.header=function(){return Object(a.jsx)(o.a,{title:function(){return Object(a.jsx)("div",{className:"api-title",children:"\u5934\u4fe1\u606f"})},columns:[{title:"\u5934\u540d\u79f0",dataIndex:"name",key:"name"},{title:"\u7c7b\u578b",dataIndex:"type",key:"type"},{title:"\u5fc5\u987b",dataIndex:"require",key:"require",render:function(e){return e?Object(a.jsx)(O.a,{}):Object(a.jsx)(f.a,{})}},{title:"\u8bf4\u660e",dataIndex:"description",key:"description"}],dataSource:e.props.meta.headers,rowKey:"name",pagination:!1})},e}return n}(s.a.Component),A=(n(337),function(e){Object(g.a)(n,e);var t=Object(x.a)(n);function n(e){var i;return Object(b.a)(this,n),(i=t.call(this,e)).componentDidMount=function(){S("/keyvalue/object",{key:"setting.global."}).then((function(e){null!==e&&(document.title=e["setting.global.console.title"]||"Clivia API",i.setState({logo:e["setting.global.console.logo"]}))})),S("/user/sign").then((function(e){return i.setState({user:e})})),S("/api/get").then((function(e){if(null!==e){var t,n=Object(h.a)(e);try{for(n.s();!(t=n.n()).done;){var a,s=t.value,r=Object(h.a)(s.children);try{for(r.s();!(a=r.n()).done;){var c=a.value;c.psid&&(c.headers||(c.headers=[]),c.headers.push({name:"photon-session-id",type:"string",require:!0,description:"\u7528\u6237SESSION ID\u503c\u3002"})),s.model&&("model"===c.response?c.response=s.model:"pagination"===c.response&&(c.parameters||(c.parameters=[]),c.parameters.push({name:"pageSize",type:"int",description:"\u6bcf\u9875\u663e\u793a\u8bb0\u5f55\u6570\uff0c\u9ed8\u8ba4\uff1a20\u3002"}),c.parameters.push({name:"pageNum",type:"int",description:"\u5f53\u524d\u663e\u793a\u9875\u6570\u3002"}),c.response='{\n    "count":"\u8bb0\u5f55\u603b\u6570\u3002",\n    "size":"\u6bcf\u9875\u6700\u5927\u663e\u793a\u8bb0\u5f55\u6570\u3002",\n    "number":"\u5f53\u524d\u663e\u793a\u9875\u6570\u3002",\n    "page":"\u603b\u9875\u6570\u3002",\n    "list":[\n        '+s.model.replace(/\n {4}/g,"\n            ").replace("\n}","\n        }")+"\n    ]\n}"))}}catch(j){r.e(j)}finally{r.f()}}}catch(j){n.e(j)}finally{n.f()}var l,o=[{name:"\u901a\u7528",children:[{name:"HTTP\u8bf7\u6c42",page:"request"},{name:"\u53c2\u6570\u7b7e\u540d",page:"sign"}]}],d=Object(h.a)(e);try{for(d.s();!(l=d.n()).done;){var u=l.value;o.push(u)}}catch(j){d.e(j)}finally{d.f()}i.setState({data:o},(function(){return i.show({key:"0-0-0"})}))}}))},i.render=function(){return Object(a.jsx)(j.a,{locale:v.a,children:Object(a.jsxs)(p.a,{style:{minHeight:"100vh"},children:[Object(a.jsxs)(p.a.Sider,{children:[Object(a.jsx)("div",{className:"api-logo",children:i.props.logo?[Object(a.jsx)("img",{src:(e=i.props.logo,""+e),alt:""},"img"),Object(a.jsx)("div",{},"div")]:null}),Object(a.jsx)("div",{className:"api-menu",children:Object(a.jsx)(m.a,{onClick:i.show,mode:"inline",theme:"dark",defaultOpenKeys:["0-0"],defaultSelectedKeys:[i.state.item.uri?"0-0":"0-0-0"],children:i.menu(i.state.data,"0")})}),Object(a.jsxs)("div",{className:"api-copyright",children:["clivia-api \xa9 ",(new Date).getFullYear()]})]}),Object(a.jsxs)(p.a,{children:[Object(a.jsx)(p.a.Header,{className:"api-header"}),Object(a.jsx)(p.a.Content,{children:Object(a.jsx)("div",{className:"api-body",children:i.body()})})]})]})});var e},i.menu=function(e,t){var n=[];if(0===e.length)return n;for(var s=0;s<e.length;s++){var r=t+"-"+s,c=e[s];c.children?n.push(Object(a.jsx)(m.a.SubMenu,{title:Object(a.jsx)("span",{children:c.name}),children:i.menu(c.children,r)},r)):(i.map[r]=c,n.push(Object(a.jsx)(m.a.Item,{children:c.name},r)))}return n},i.show=function(e){i.setState({item:i.map[e.key]})},i.body=function(){if(i.state.item.page)switch(i.state.item.page){case"request":return Object(a.jsx)(w,{});case"sign":return Object(a.jsx)(M,{});case"upload":return Object(a.jsx)(P,{url:i.url,meta:i.state.item});default:return Object(a.jsx)("div",{})}return Object(a.jsxs)(l.b,{direction:"vertical",style:{width:"100%"},children:[Object(a.jsx)(u.a,{type:"info",message:"\u63a5\u53e3\u5730\u5740\uff1a"+i.url+i.state.item.uri}),Object(a.jsx)(o.a,{title:function(){return Object(a.jsx)("div",{className:"api-title",children:"\u5934\u4fe1\u606f"})},columns:[{title:"\u5934\u540d\u79f0",dataIndex:"name",key:"name"},{title:"\u7c7b\u578b",dataIndex:"type",key:"type"},{title:"\u5fc5\u987b",dataIndex:"require",key:"require",render:function(e){return e?Object(a.jsx)(O.a,{}):Object(a.jsx)(f.a,{})}},{title:"\u8bf4\u660e",dataIndex:"description",key:"description"}],dataSource:i.state.item.headers,rowKey:"name",pagination:!1,locale:{emptyText:Object(a.jsx)(d.a,{image:d.a.PRESENTED_IMAGE_SIMPLE,description:"\u65e0\u9700\u5934\u4fe1\u606f"})}}),Object(a.jsx)(o.a,{title:function(){return Object(a.jsx)("div",{className:"api-title",children:"\u53c2\u6570"})},columns:[{title:"\u53c2\u6570\u540d",dataIndex:"name",key:"name"},{title:"\u7c7b\u578b",dataIndex:"type",key:"type"},{title:"\u5fc5\u987b",dataIndex:"require",key:"require",render:function(e){return e?Object(a.jsx)(O.a,{}):Object(a.jsx)(f.a,{})}},{title:"\u8bf4\u660e",dataIndex:"description",key:"description"}],dataSource:i.state.item.parameters,rowKey:"name",pagination:!1,locale:{emptyText:Object(a.jsx)(d.a,{image:d.a.PRESENTED_IMAGE_SIMPLE,description:"\u65e0\u9700\u53c2\u6570"})}}),Object(a.jsx)("div",{className:"api-response-title",children:"\u8fd4\u56de"}),Object(a.jsx)("pre",{children:i.state.item.response})]})},i.state={logo:"",user:{},data:[],item:{}},i.map={},i.url=window.location.href,i.url=i.url.substring(0,i.url.length-window.location.pathname.length),i}return n}(s.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(A,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[338,1,2]]]);
//# sourceMappingURL=main.68d8134c.chunk.js.map