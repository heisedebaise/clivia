(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],{137:function(e,t,n){},160:function(e,t,n){},243:function(e,t,n){},244:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n.n(s),r=n(26),i=n.n(r),c=(n(137),n(72),n(42)),o=(n(106),n(48)),l=(n(140),n(16)),d=(n(142),n(71)),p=(n(144),n(40)),j=n(104),u=n(32),h=n(35),m=n(34),b=n(132),g=(n(147),n(70)),O=function(e,t){return f(e,t).then((function(e){return null===e?null:0===e.code?(e.message&&g.b.success(e.message),e.data):(g.b.warn("["+e.code+"]"+e.message),null)}))},f=function e(t,n){return fetch(""+t,{method:"POST",headers:v(),body:JSON.stringify(n)}).then((function(t){return e.loader&&e.loader.setState({loading:!1}),t.ok?t.json():(g.b.warn("["+t.status+"]"+t.statusText),null)}))},v=function(){var e={"Content-Type":"application/json"};return x(e,!0),e},x=function(e,t){t&&f.loader&&f.loader.setState({loading:!0});var n=localStorage.getItem("photon-session-id");if(!n){for(n="";n.length<64;)n+=Math.random().toString(36).substring(2);n=n.substring(0,64),localStorage.setItem("photon-session-id",n)}e["photon-session-id"]=n},y=n(6),S=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).request="const post = (url, body) => fetch(url, {\n    method: 'POST',\n    headers: header(),\n    body: JSON.stringify(body)\n}).then(response => {\n    if (response.ok) return response.json();\n\n    message.warn('[' + response.status + ']' + response.statusText);\n\n    return null;\n});\n\nconst header = () => {\n    let header = {\n        'Content-Type': 'application/json'\n    };\n    psid(header, true);\n\n    return header;\n}\n\nconst psid = (header) => {\n    let psid = localStorage.getItem('photon-session-id');\n    if (!psid) {\n        psid = '';\n        while (psid.length < 64) psid += Math.random().toString(36).substring(2);\n        psid = psid.substring(0, 64);\n        localStorage.setItem('photon-session-id', psid);\n    }\n    header['photon-session-id'] = psid;\n}",e.response='{\n    "code": "\u7f16\u7801\uff0c0\u8868\u793a\u6210\u529f\uff0c\u5927\u4e8e0\u8868\u793a\u5931\u8d25\u3002",\n    "data": "\u6570\u636e\uff0ccode===0\u65f6\u8fd4\u56de\u3002",\n    "message": "\u5931\u8d25\u4fe1\u606f\u8bf4\u660e\uff0ccode>0\u65f6\u8fd4\u56de\u3002"\n}',e.render=function(){return Object(y.jsxs)(c.b,{direction:"vertical",style:{width:"100%"},children:[Object(y.jsx)("div",{children:"\u53c2\u8003\u793a\u4f8b"}),Object(y.jsx)("pre",{children:e.request}),Object(y.jsx)("div",{children:"\u8fd4\u56de\u7ed3\u679c"}),Object(y.jsx)("pre",{children:e.response})]})},e}return n}(a.a.Component),N=(n(153),n(57)),w=(n(246),n(56)),I=n(128),k=n.n(I),C=(n(160),function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var s;Object(u.a)(this,n),(s=t.call(this,e)).componentDidMount=function(){s.change()},s.render=function(){return Object(y.jsxs)(c.b,{direction:"vertical",children:[Object(y.jsxs)(w.a,{direction:"vertical",current:6,children:[Object(y.jsx)(w.a.Step,{title:"\u6dfb\u52a0\u7b7e\u540d\u65f6\u95f4\u6233\u53c2\u6570",description:"\u83b7\u53d6\u5f53\u524d\u65f6\u95f4\u6233\uff0c\u7cbe\u786e\u5230\u6beb\u79d2\uff0c\u53c2\u6570\u540d\u4e3a\uff1asign-time\u3002",icon:1}),Object(y.jsx)(w.a.Step,{title:"\u53c2\u6570\u540d\u6392\u5e8f",description:"\u5c06\u6240\u6709\u53c2\u6570\u6839\u636e\u53c2\u6570\u540dASCII\u7801\u5347\u5e8f\u6392\u5217\u3002",icon:2}),Object(y.jsx)(w.a.Step,{title:"\u62fc\u63a5\u53c2\u6570",description:"\u7528\u7b49\u53f7'='\u62fc\u63a5\u53c2\u6570\u540d\u4e0e\u503c\uff0c\u5e76\u7528'&'\u7b26\u53f7\u8fde\u63a5\uff0c\u5982\uff1aa=1&b=2&c=3&sign-time=1234567890123",icon:3}),Object(y.jsx)(w.a.Step,{title:"\u6dfb\u52a0\u5bc6\u94a5",description:"\u6dfb\u52a0'&secret={secret value}'",icon:4}),Object(y.jsx)(w.a.Step,{title:"\u8ba1\u7b97MD5\u503c",description:"\u8ba1\u7b97\u5b57\u7b26\u4e32\u7684MD5\u503c\uff0c\u8f6c\u5316\u4e3a\u5c0f\u5199\u5b57\u6bcd\uff0c\u5373\u4e3a\u7b7e\u540d\u503c\uff0c\u7b7e\u540d\u53c2\u6570\u540d\u4e3asign\u3002",icon:5})]}),Object(y.jsx)("div",{children:"\u793a\u4f8b"}),Object(y.jsxs)("div",{className:"sign-form",children:[Object(y.jsxs)("div",{className:"sign-form-line",children:[Object(y.jsx)("div",{className:"sign-form-label",children:"\u53c2\u6570\u540d"}),Object(y.jsx)("div",{className:"sign-form-value",children:"\u53c2\u6570\u503c"})]}),Object(y.jsxs)("div",{className:"sign-form-line",children:[Object(y.jsx)("div",{className:"sign-form-label",children:Object(y.jsx)(N.a,{id:"name-1",onChange:s.change,defaultValue:"a"})}),Object(y.jsx)("div",{className:"sign-form-value",children:Object(y.jsx)(N.a,{id:"value-1",onChange:s.change,defaultValue:"1"})})]}),Object(y.jsxs)("div",{className:"sign-form-line",children:[Object(y.jsx)("div",{className:"sign-form-label",children:Object(y.jsx)(N.a,{id:"name-2",onChange:s.change,defaultValue:"b"})}),Object(y.jsx)("div",{className:"sign-form-value",children:Object(y.jsx)(N.a,{id:"value-2",onChange:s.change,defaultValue:"2"})})]}),Object(y.jsxs)("div",{className:"sign-form-line",children:[Object(y.jsx)("div",{className:"sign-form-label",children:Object(y.jsx)(N.a,{id:"name-3",onChange:s.change,defaultValue:"c"})}),Object(y.jsx)("div",{className:"sign-form-value",children:Object(y.jsx)(N.a,{id:"value-3",onChange:s.change,defaultValue:"3"})})]}),Object(y.jsxs)("div",{className:"sign-form-line",children:[Object(y.jsx)("div",{className:"sign-form-label",children:"sign-time"}),Object(y.jsx)("div",{className:"sign-form-value",children:s.state.time})]}),Object(y.jsxs)("div",{className:"sign-form-line",children:[Object(y.jsx)("div",{className:"sign-form-label",children:"secret"}),Object(y.jsx)("div",{className:"sign-form-value",children:s.state.secret})]}),Object(y.jsxs)("div",{className:"sign-form-line",children:[Object(y.jsx)("div",{className:"sign-form-label",children:"\u7b7e\u540d\u660e\u6587"}),Object(y.jsx)("div",{className:"sign-form-value sign-form-plain",children:s.state.plain})]}),Object(y.jsxs)("div",{className:"sign-form-line",children:[Object(y.jsx)("div",{className:"sign-form-label",children:"sign"}),Object(y.jsx)("div",{className:"sign-form-value",children:s.state.sign})]})]})]})},s.change=function(){for(var e=[],t=1;t<=3;t++)e.push(document.querySelector("#name-"+t).value+"="+document.querySelector("#value-"+t).value);var n=(new Date).getTime();e.push("sign-time="+n),e.sort(),e.push("secret="+s.state.secret);var a=e.join("&");s.setState({time:n,plain:a,sign:k()(a)})};for(var a="";a.length<32;)a+=Math.random().toString(36).substring(2);return a=a.substring(0,32),s.state={time:"",secret:a,plain:"",sign:""},s}return n}(a.a.Component)),q=(n(245),n(131)),T=(n(108),n(37)),M=n(69),D=n(43),E=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).render=function(){return Object(y.jsx)(q.a,{title:function(){return Object(y.jsx)("div",{className:"api-title",children:e.props.header?"\u5934\u4fe1\u606f":"\u53c2\u6570"})},columns:[{title:e.props.header?"\u5934\u540d\u79f0":"\u53c2\u6570\u540d",dataIndex:"name",key:"name"},{title:"\u7c7b\u578b",dataIndex:"type",key:"type"},{title:"\u5fc5\u987b",dataIndex:"require",key:"require",render:function(e){return e?Object(y.jsx)(M.a,{}):Object(y.jsx)(D.a,{})}},{title:"\u8bf4\u660e",dataIndex:"description",key:"description"}],dataSource:e.props.data,rowKey:"name",pagination:!1,locale:{emptyText:Object(y.jsx)(T.a,{image:T.a.PRESENTED_IMAGE_SIMPLE,description:e.props.header?"\u65e0\u9700\u5934\u4fe1\u606f":"\u65e0\u9700\u53c2\u6570"})}})},e}return n}(a.a.Component),A=(n(241),n(103)),B=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).responseFile='{\n    "path": "\u6587\u4ef6URI\u5730\u5740",\n    "fileName": "\u539f\u6587\u4ef6\u540d",\n    "fileSize": "\u6587\u4ef6\u5927\u5c0f",\n    "success": "true-\u6210\u529f\uff1bfalse-\u5931\u8d25"\n}',e.responseBase64='{\n    "code": 0,\n    "data": {\n        "path": "\u6587\u4ef6URI\u5730\u5740",\n        "fileName": "\u539f\u6587\u4ef6\u540d",\n        "fileSize": "\u6587\u4ef6\u5927\u5c0f",\n        "success": "true-\u6210\u529f\uff1bfalse-\u5931\u8d25"\n    }\n}',e.render=function(){return Object(y.jsxs)(c.b,{direction:"vertical",style:{width:"100%"},children:[Object(y.jsx)(A.a,{dashed:!0,children:"\u6587\u4ef6\u65b9\u5f0f\u4e0a\u4f20"}),Object(y.jsx)(o.a,{type:"info",message:"\u63a5\u53e3\u5730\u5740\uff1a"+e.props.url+"/photon/ctrl-http/upload"}),Object(y.jsx)(E,{header:!0,data:e.props.meta.headers}),Object(y.jsx)(E,{header:!1,data:[{name:e.props.meta.upload,type:"file",require:!0,description:"\u4e0a\u4f20\u6587\u4ef6\u3002"}]}),Object(y.jsx)("div",{children:"\u8fd4\u56de\u7ed3\u679c"}),Object(y.jsx)("pre",{children:e.responseFile}),Object(y.jsx)(A.a,{dashed:!0,children:"Base64\u65b9\u5f0f\u4e0a\u4f20"}),Object(y.jsx)(o.a,{type:"info",message:"\u63a5\u53e3\u5730\u5740\uff1a"+e.props.url+"/photon/ctrl/upload"}),Object(y.jsx)(E,{header:!0,data:e.props.meta.headers}),Object(y.jsx)(E,{header:!1,data:[{name:"name",type:"string",require:!0,description:"\u56fa\u5b9a\u4e3a\uff1a"+e.props.meta.upload+"\u3002"},{name:"contentType",type:"string",require:!0,description:"\u6587\u4ef6\u683c\u5f0f\uff0c\u5982\uff1aimage/jpeg\u3002"},{name:"fileName",type:"string",require:!0,description:"\u539f\u6587\u4ef6\u540d\u3002"},{name:"base64",type:"string",require:!0,description:"BASE64\u7f16\u7801\u540e\u7684\u6587\u4ef6\u5185\u5bb9\uff0c\u4e0d\u5305\u542bContent-Type\u3002"}]}),Object(y.jsx)("div",{children:"\u8fd4\u56de\u7ed3\u679c"}),Object(y.jsx)("pre",{children:e.responseBase64}),Object(y.jsx)(A.a,{dashed:!0,children:"cURL\u65b9\u5f0f\u4e0a\u4f20"}),Object(y.jsx)(o.a,{type:"info",message:"\u63a5\u53e3\u5730\u5740\uff1a"+e.props.url+"/photon/ctrl-http/upload"}),Object(y.jsx)("div",{children:"\u53d1\u9001"}),Object(y.jsxs)("pre",{children:["curl -H 'photon-session-id: ",localStorage.getItem("photon-session-id"),"' -F '",e.props.meta.upload,"=@/path/to/file' ",e.props.url,"/photon/ctrl-http/upload"]}),Object(y.jsx)("div",{children:"\u8fd4\u56de\u7ed3\u679c"}),Object(y.jsx)("pre",{children:e.responseFile})]})},e}return n}(a.a.Component),P=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).render=function(){return Object(y.jsxs)(c.b,{direction:"vertical",style:{width:"100%"},children:[Object(y.jsx)(o.a,{type:"info",message:"\u63a5\u53e3\u5730\u5740\uff1a"+e.props.url+"/keyvalue/object"}),Object(y.jsx)(E,{header:!0,data:[{name:"photon-session-id",type:"string",require:!0,description:"\u7528\u6237SESSION ID\u503c\uff0c\u5982\uff1a"+localStorage.getItem("photon-session-id")+"\u3002"}]}),Object(y.jsx)(E,{header:!1,data:[{name:"key",type:"string",require:!0,description:"\u56fa\u5b9a\u4e3a\uff1a\u3010"+e.props.meta.prefix+"\u3011\u3002"}]}),Object(y.jsx)("div",{children:"\u8fd4\u56de\u7ed3\u679c"}),Object(y.jsx)("pre",{children:"{\n"+e.props.meta.keys.map((function(e){return'    "'+e.key+'":"'+e.description+'",\n'})).join("")+"}"})]})},e}return n}(a.a.Component),V=(n(243),function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var s;return Object(u.a)(this,n),(s=t.call(this,e)).componentDidMount=function(){O("/keyvalue/object",{key:"setting.global."}).then((function(e){null!==e&&(document.title=e["setting.global.console.title"]||"Clivia API",s.setState({logo:e["setting.global.console.logo"]}))})),O("/user/sign").then((function(e){return s.setState({user:e})})),O("/api/get").then((function(e){if(null!==e){var t,n=Object(j.a)(e);try{for(n.s();!(t=n.n()).done;){var a,r=t.value,i=Object(j.a)(r.services);try{for(i.s();!(a=i.n()).done;){var c=a.value;c.psid&&(c.headers||(c.headers=[]),c.headers.push({name:"photon-session-id",type:"string",require:!0,description:"\u7528\u6237SESSION ID\u503c\uff0c\u5982\uff1a"+localStorage.getItem("photon-session-id")+"\u3002"})),c.sign&&(c.parameters||(c.parameters=[]),c.parameters.push({name:"sign-time",type:"long",require:!0,description:"\u7b7e\u540d\u65f6\u95f4\u6233\uff0c\u7cbe\u786e\u5230\u6beb\u79d2\u3002"}),c.parameters.push({name:"sign",type:"string",require:!0,description:"\u53c2\u6570\u7b7e\u540d\uff0c\u89c4\u5219\u53c2\u8003\u3010\u901a\u7528->\u53c2\u6570\u7b7e\u540d\u3011\u9875\u3002"})),r.model&&("model"===c.response?c.response=r.model:1===c.response.length&&"model"===c.response[0]?c.response="["+r.model+"]":"pagination"===c.response&&(c.parameters||(c.parameters=[]),c.parameters.push({name:"pageSize",type:"int",description:"\u6bcf\u9875\u663e\u793a\u8bb0\u5f55\u6570\uff0c\u9ed8\u8ba4\uff1a20\u3002"}),c.parameters.push({name:"pageNum",type:"int",description:"\u5f53\u524d\u663e\u793a\u9875\u6570\u3002"}),c.response='{\n    "count":"\u8bb0\u5f55\u603b\u6570\u3002",\n    "size":"\u6bcf\u9875\u6700\u5927\u663e\u793a\u8bb0\u5f55\u6570\u3002",\n    "number":"\u5f53\u524d\u663e\u793a\u9875\u6570\u3002",\n    "page":"\u603b\u9875\u6570\u3002",\n    "list":[\n        '+r.model.replace(/\n {4}/g,"\n            ").replace("\n}","\n        }")+"\n    ]\n}"))}}catch(u){i.e(u)}finally{i.f()}}}catch(u){n.e(u)}finally{n.f()}var o,l=[{name:"\u901a\u7528",services:[{name:"HTTP\u8bf7\u6c42",page:"request"},{name:"\u53c2\u6570\u7b7e\u540d",page:"sign"}]}],d=Object(j.a)(e);try{for(d.s();!(o=d.n()).done;){var p=o.value;l.push(p)}}catch(u){d.e(u)}finally{d.f()}s.setState({data:l},(function(){return s.show({key:"0-0-0"})}))}}))},s.render=function(){return Object(y.jsx)(l.a,{locale:b.a,children:Object(y.jsxs)(d.a,{style:{minHeight:"100vh"},children:[Object(y.jsxs)(d.a.Sider,{children:[Object(y.jsx)("div",{className:"api-logo",children:s.props.logo?[Object(y.jsx)("img",{src:(e=s.props.logo,""+e),alt:""},"img"),Object(y.jsx)("div",{},"div")]:null}),Object(y.jsx)("div",{className:"api-menu",children:Object(y.jsx)(p.a,{onClick:s.show,mode:"inline",theme:"dark",defaultOpenKeys:["0-0"],defaultSelectedKeys:[s.state.item.uri?"0-0":"0-0-0"],children:s.menu(s.state.data,"0")})}),Object(y.jsxs)("div",{className:"api-copyright",children:["clivia-api \xa9 ",(new Date).getFullYear()]})]}),Object(y.jsxs)(d.a,{children:[Object(y.jsx)(d.a.Header,{className:"api-header"}),Object(y.jsx)(d.a.Content,{children:Object(y.jsx)("div",{className:"api-body",children:s.body()})})]})]})});var e},s.menu=function(e,t){var n=[];if(0===e.length)return n;for(var a=0;a<e.length;a++){var r=t+"-"+a,i=e[a];i.services?n.push(Object(y.jsx)(p.a.SubMenu,{title:Object(y.jsx)("span",{children:i.name}),children:s.menu(i.services,r)},r)):(s.map[r]=i,n.push(Object(y.jsx)(p.a.Item,{children:i.name},r)))}return n},s.show=function(e){s.setState({item:s.map[e.key]})},s.body=function(){if(s.state.item.page)switch(s.state.item.page){case"request":return Object(y.jsx)(S,{});case"sign":return Object(y.jsx)(C,{});case"upload":return Object(y.jsx)(B,{url:s.url,meta:s.state.item});case"setting":return Object(y.jsx)(P,{url:s.url,meta:s.state.item});default:return Object(y.jsx)("div",{})}return Object(y.jsxs)(c.b,{direction:"vertical",style:{width:"100%"},children:[Object(y.jsx)(o.a,{type:"info",message:"\u63a5\u53e3\u5730\u5740\uff1a"+s.url+s.state.item.uri}),Object(y.jsx)(E,{header:!0,data:s.state.item.headers}),Object(y.jsx)(E,{header:!1,data:s.state.item.parameters}),Object(y.jsx)("div",{className:"api-response-title",children:"\u8fd4\u56de"}),Object(y.jsx)("pre",{children:s.state.item.response})]})},s.state={logo:"",user:{},data:[],item:{}},s.map={},s.url=window.location.href,s.url=s.url.substring(0,s.url.length-window.location.pathname.length),s}return n}(a.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(y.jsx)(a.a.StrictMode,{children:Object(y.jsx)(V,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[244,1,2]]]);
//# sourceMappingURL=main.3e0e9d6d.chunk.js.map